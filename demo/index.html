<!doctype html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, minimum-scale=1, initial-scale=1, user-scalable=yes">

    <title>monopoly-controller demo</title>

    <script src="../../webcomponentsjs/webcomponents-loader.js"></script>

    <link rel="import" href="../../iron-demo-helpers/demo-pages-shared-styles.html">
    <link rel="import" href="../../iron-demo-helpers/demo-snippet.html">
    <link rel="import" href="../../monopoly-trans-cash/monopoly-trans-cash.html">
    <link rel="import" href="../monopoly-controller.html">

    <custom-style>
      <style is="custom-style" include="demo-pages-shared-styles">
      </style>
    </custom-style>
  </head>
  <body>
    <div class="vertical-section-container centered">
      <h3>Basic monopoly-controller demo</h3>
      <demo-snippet>
        <h2>integration monopoly-trans-cash</h2>
        <dom-bind>
          <template>
            <monopoly-trans-cash to="[[players]]" from="[[players.0]]"></monopoly-trans-cash>
            <monopoly-controller
            query="[[query]]"
            ></monopoly-controller>
          </template>
        </dom-bind>
        <script>
          const container = document.querySelector('dom-bind');
          const controller = document.querySelector('monopoly-controller');
          const transCash = document.querySelector('monopoly-trans-cash');
          // to get all players
          controller.addEventListener('get-players', (event) => {
              console.log(event.detail);
              container.players = event.detail;
          });
          // to get all properties
          controller.addEventListener('get-properties', (event) => {
              console.log(event.detail);
              container.properties = event.detail;
          });
          controller.addEventListener('get-transactions', (event) => {
              console.log(event.detail);
              container.transactions = event.detail;
          });
          transCash.addEventListener('cash-transaction', (event) => {
              console.log(event.detail);
          });
          /****************   MAIN   **************+*/
          setTimeout(() => container.query = 'getPlayers', 1000);
          setTimeout(() => container.query = 'getProperties', 2000);
          setTimeout(() => container.query = 'getTransactions', 3000);
        </script>
      </demo-snippet>
    </div>
  </body>
</html>
